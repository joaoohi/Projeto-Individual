<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/pergunta1.css">
</head>

<body>
    <header>
        <nav>
            <a href="home.html">HOME</a>
            <a href="pergunta1.html">QUIZ</a>
            <a href="cursos.html">CURSOS</a>
            <a href="">DASHBOARD</a>
            <a href="">FERRAMENTAS</a>
            <a href="#" onclick="logout()">SAIR</a>
        </nav>
    </header>
    <div class="container">
        <h1>Pergunta 4</h1>
        <br><br>
        <h2>O que é Enarmonia? </h2>
        <div>
            <div class="alternativa_a"><b>A)</b>Conjunto de acordes na música</div>
            <div class="alternativa_b"><b>B)</b>Duas notas com o mesmo som, mas dois nomes diferentes</div>
            <div class="alternativa_c"><b>C)</b>Duas notas com o mesmo nome, mas dois sons diferentes</div>
            <div class="alternativa_d"><b>D)</b>Conjunto de notas harmônicas</div>
            <div class="alternativa_c"><b>E)</b>Notas sem harmônia</div>
        </div>
        <h2> Qual é a alternativa CORRETA?</h2>
        <select id="alternativa">
            <option>ESCOLHA</option>
            <option>A</option>
            <option>B</option>
            <option>C</option>
            <option>D</option>
            <option>E</option>
        </select><br><br><br><br>
        <button onclick="cadastrarResposta()">Conferir</button>
    </div>

</body>

</html>
<script>

    function cadastrarResposta(numeroPergunta, resposta, fkUsuario) {


        var numeroPergunta = 4;
        var resposta = alternativa.value;
        var idcadastro = sessionStorage.ID_USUARIO;

        if (resposta == 'B') {
            resposta = 1
        } else {
            resposta = 0
        }

        fetch("/usuario/cadastrarResposta", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                numeroPerguntaServer: numeroPergunta,
                respostaServer: resposta,
                idcadastroServer: idcadastro

            }),
        })
            .then(function (resposta) {
                console.log("resposta: ", resposta);


            })
            .catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);

            });

        window.location.href = 'pergunta5.html';

    }

    function logout() {
        limparSessao();
    }

</script>